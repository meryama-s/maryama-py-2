<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        //EXERCICE 2

const apikey= "sa5UzE0Z1XrXiKrBcpurDDlL5zqlSAZU";
const offset= 2;
const query = 'sun';
const limit =10;
const url = `https://api.giphy.com/v1/gifs/search?api_key=${apikey}&q=${query}&limit=${limit}&offset=${offset}`;

fetch(url)
.then( response => {
    if(!response.ok){
        throw new Error(`could not fetch ${response.status}`);
    }
    return response.json();
})
.then(data => {
    console.log(data)
})
.catch(error => {
    console.error(`an error accurred ${error}`);
});


   // EXERCICE 3

   async function getStar(){
    try{
        const response = await fetch("https://www.swapi.tech/api/starships/9/");
        if(!response.ok){
            throw new Error(`HTTP error! status: ${response.status}`);

        }
        const data = await response.json();
        console.log(data.result);
    
    }catch(error){
        console.error("An error occurred:", error);
    }

}
getStar()

// EXERCICE 4

function resolveAfter2Seconds() {
    return new Promise(resolve => {
        setTimeout(() => {
            resolve('resolved');
        }, 2000);
    });
}

async function asyncCall() {
    console.log('calling');
    let result = await resolveAfter2Seconds();
    console.log(result);
}

asyncCall();
// the output is : first "calling" be loged and after 2 second "resolved" logs bcs of the await keyword 

    </script>
</head>
<body>
    
</body>
</html>